<p-toast></p-toast>
<p-tabView>
    <p-tabPanel header="3D">
        <app-babylon></app-babylon>
    </p-tabPanel>
    <p-tabPanel header="Fichier(s)">
        <ng-template pTemplate="content">
            <p-table [columns]="cols" [value]="files" [responsive]="true">
                <ng-template pTemplate="caption">
                    Liste des fichier(s)
                </ng-template>
                <ng-template pTemplate="header" let-columns>
                    <tr>
                        <th>
                            Nom
                        </th>
                        <th>
                            Action
                        </th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-rowData>
                    <tr>
                        <td>
                            <span class="ui-column-title">Nom</span>
                            {{rowData?.name}}
                        </td>
                        <td>
                            <button pButton type="button" class="ui-button-secondary" icon="pi pi-print"
                                (click)="handleSelect(rowData)"></button>
                        </td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="summary">
                    Il y a {{files?.length}} fichier(s)
                </ng-template>
            </p-table>
        </ng-template>
    </p-tabPanel>
    <p-tabPanel header="Plan X/Y">
        <ng-template pTemplate="content">
            <div class="p-grid">
                <div class="p-col-1">
                    <p-button label="Refresh" (click)="refresh($event)"></p-button>
                    <p-button label="Draw" (click)="refreshXY($event)"></p-button>
                </div>
                <div class="p-col-11">
                    <app-paperjs (flag)="selectXY($event)" (ready)="drawXY($event)"></app-paperjs>
                </div>
            </div>
        </ng-template>
    </p-tabPanel>
    <p-tabPanel header="Plan Z">
        <ng-template pTemplate="content">
            <div class="p-grid">
                <div class="p-col-1">
                    <p-button label="Refresh" (click)="refresh($event)"></p-button>
                    <p-button label="Draw" (click)="refreshZ($event)"></p-button>
                </div>
                <div class="p-col-11">
                    <app-paperjs (flag)="selectZ($event)" (ready)="drawZ($event)"></app-paperjs>
                </div>
            </div>
        </ng-template>
    </p-tabPanel>
    <p-tabPanel header="Gcode">
        <pre>{{commands | json}}</pre>
        <p-terminal welcomeMessage="Bienvenue sur la console gcode" prompt="gcode $"></p-terminal>
    </p-tabPanel>
    <p-tabPanel header="Debug">
        <pre>{{status | json}}</pre>
        <pre>{{stlInfo | json}}</pre>
    </p-tabPanel>
    <p-tabPanel header="Control">
        <div align="center" class="p-grid">
            <div class="p-col-2 paddle" (click)="setOk($event)">
                <i class="pi pi-thumbs-up" pTooltip="Envoyer ok" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2 paddle" (click)="setUnlock($event)">
                <i class="pi pi-unlock" pTooltip="Unlock" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2 paddle" (click)="setReset($event)">
                <i class="pi pi-refresh" pTooltip="Refresh" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2 paddle" (click)="setPause($event)">
                <i class="pi pi-pause" pTooltip="Pause" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2 paddle" (click)="setResume($event)">
                <i class="pi pi-sign-in" pTooltip="Resume" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2 paddle" (click)="setStatus($event)">
                <i class="pi pi-question-circle" pTooltip="Status" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2">
            </div>
        </div>
        <div align="center" class="p-grid">
            <div class="p-col-2 paddle" (click)="setX($event)">x
                <i class="pi pi-cog" pTooltip="Set x" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2 paddle" (click)="setY($event)">y
                <i class="pi pi-cog" pTooltip="Set y" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2 paddle" (click)="setZ($event)">z
                <i class="pi pi-cog" pTooltip="Set y" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2 paddle" (click)="setAll($event)">all
                <i class="pi pi-cog" pTooltip="Set all" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2 paddle" (click)="setHome($event)">home
                <i class="pi pi-cog" pTooltip="Home" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2 paddle" (click)="setDefinedHome($event)">defined
                <i class="pi pi-cog" pTooltip="Defined home" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2">
            </div>
            <div class="p-col-2">
            </div>
        </div>
        <div align="center" class="p-grid">
            <div class="p-col-2"></div>
            <div class="p-col-2"></div>
            <div class="p-col-2"></div>
            <div class="p-col-2"></div>
            <div class="p-col-2"></div>
            <div class="p-col-2"></div>
        </div>
        <div align="center" class="p-grid">
            <div class="p-col-2"></div>
            <div class="p-col-2 paddle" (click)="setBack($event)">
                <i class="pi pi-arrow-up" pTooltip="Reculer" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2"></div>
            <div class="p-col-2"></div>
            <div class="p-col-2 paddle" (click)="setUp($event)">
                <i class="pi pi-arrow-up" pTooltip="Monter" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2">
            </div>
            <div class="p-col-2">
            </div>
        </div>
        <div align="center" class="p-grid">
            <div class="p-col-2 paddle" (click)="setLeft($event)">
                <i class="pi pi-arrow-left" pTooltip="Déplacement à gauche" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2 paddle" (click)="setStep($event)">
                <i class="pi pi-circle-off" pTooltip="Modification du step" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2 paddle" (click)="setRight($event)">
                <i class="pi pi-arrow-right" pTooltip="Déplacement à droite" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2"></div>
            <div class="p-col-2"></div>
            <div class="p-col-2">
            </div>
            <div class="p-col-2">
            </div>
        </div>
        <div align="center" class="p-grid">
            <div class="p-col-2"></div>
            <div class="p-col-2 paddle" (click)="setFront($event)">
                <i class="pi pi-arrow-down" pTooltip="Avancer" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2"></div>
            <div class="p-col-2"></div>
            <div class="p-col-2 paddle" (click)="setDown($event)">
                <i class="pi pi-arrow-down" pTooltip="Baisser" tooltipPosition="bottom"></i>
            </div>
            <div class="p-col-2">
            </div>
            <div class="p-col-2">
            </div>
        </div>
    </p-tabPanel>
</p-tabView>
<p-toast></p-toast>