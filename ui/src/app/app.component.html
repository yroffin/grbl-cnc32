<p-toast></p-toast>
<p-menubar [model]="items"></p-menubar>
<router-outlet></router-outlet>
<p-dialog header="Print" [(visible)]="displayFiles" [modal]="true" [style]="{width: '100vw'}"
    [contentStyle]="{minHeight: '450px'}" [baseZIndex]="10000" [draggable]="false" [resizable]="false">
    <p-table [columns]="cols" [value]="files" [responsive]="true">
        <ng-template pTemplate="caption">
            Liste des fichier(s)
            <button pButton type="button" class="ui-button-secondary" icon="pi pi-refresh"
                (click)="handleRefresh()"></button>
        </ng-template>
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th>
                    Nom
                </th>
                <th>
                    Print
                </th>
                <th>
                    delete
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData>
            <tr>
                <td>
                    <span class="ui-column-title">Nom</span>
                    {{rowData?.name}}
                </td>
                <td>
                    <button pButton type="button" class="ui-button-secondary" icon="pi pi-print"
                        (click)="handleSelect(rowData)"></button>
                </td>
                <td>
                    <button pButton type="button" class="ui-button-secondary" icon="pi pi-trash"
                        (click)="handleDelete(rowData)"></button>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="summary">
            Il y a {{files?.length}} fichier(s)
        </ng-template>
    </p-table>
</p-dialog>
<p-dialog header="Export" [(visible)]="displayWrite" [modal]="true" [style]="{width: '100vw'}"
    [contentStyle]="{minHeight: '450px'}" [baseZIndex]="10000" [draggable]="false" [resizable]="false">
    <p-editor [(ngModel)]="text">
        <p-header>
        </p-header>
    </p-editor>
    <p-footer>
        <div class="p-grid">
            <div class="p-col-12">
                <p-progressBar [value]="progress" [showValue]="true"></p-progressBar>
            </div>
        </div>
        <div class="p-grid">
            <div class="p-col-8">
                <div class="ui-inputgroup">
                    <span class="ui-inputgroup-addon"><i class="pi pi-file"></i></span>
                    <input [(ngModel)]="filename" type="text" pInputText placeholder="test.gcode">
                </div>
            </div>
            <div class="p-col-2">
                <button type="button" pButton icon="pi pi-check" (click)="write()" label="Write"></button>
            </div>
            <div class="p-col-2">
                <button type="button" pButton icon="pi pi-times" (click)="displayWrite=false" label="Close"
                    class="ui-button-secondary"></button>
            </div>
        </div>
    </p-footer>
</p-dialog>